
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ai_diffusion model</title>
</head>
<style>
html, body { height: 100vh; width:100vw; background:black; margin:0}
body{padding:0;margin:0;display:flex;flex-direction:column;
    justify-content:space-evenly;align-items:center; color:cyan;}
</style>

<body>
DALL-E Image Gen.

<input id="textPrompt">prompt dall-e 2</input>
<aside id="aiInput" style="display:flex; flex: 0 0 auto;">
    <div style="font-size:0.666em;padding: 1em;">AI KEY:&nbsp;
        <input id="aiKey" style="border-radius: 13px;
        padding: 0.444em;font-size: 0.888em;background: #37d6f3;color: black;">
         <!-- </div> -->
    <!-- <div style="font-size:0.666em;padding: 1em;"> -->
     <!-- & SECRET:&nbsp;
        <input id="aiSecret" type="password" style="border-radius: 13px;
        padding: 0.444em;font-size: 0.888em;background: #37d6f3;color: black;"> 
        <button onclick="aiInit()" style="font-size:0.666em;padding:0.444em;border-radius:13px;
        box-shadow: inset -1px -1px 4px 1px rgb(83, 93, 204);cursor:pointer;background: #37d6f3;">
        ðŸŒžCONNECT</button> -->
    </div>
 </aside>
 <section id="aiOutputFrame">

 </section>

</body>
<script>
//------------------------  DALLE2 INIT
let aiOutput = document.getElementById('aiOutputFrame')
let aiKey = document.getElementById('aiKey')
let aiSecret = document.getElementById('aiSecret')
const aiInit = async ()=>{
    debugger;
      //if keys are local, load local
      // if(localStorage.aiKeyVal && localStorage.aiSecretVal){
      // if(localStorage.aiKeyVal && localStorage.aiSecretVal){
      //     aiKeyVal = localStorage.aiKeyVal;
      //     aiSecretVal = localStorage.aiSecretVal;
      // } else {
    const API_KEY = ""
    // let aiKeyVal = aiKey.value;
    // let aiSecretVal = aiSecret.value;
    // if (!aiKeyVal || aiSecretVal){ return; }

     try{
        const options = {
            method:"POST",
            headers:{
                "Authorization": `Bearer ${API_KEY}`,
                "Content-Type":"application/json"
            }, body : JSON.stringify({
                "prompt": "egg shaped robot in space",
                "n":4,"size":"1024x1024"
            })

        }
debugger;


        const response = await fetch('https://api.openai.com/v1/images/generations',options)
        const data = await response.json()
        debugger;
//             data?.data.forEach((i)=>{
// debugger;
//             })
            aiOutput.innerHTML = data; 

            const imageContainer = document.createElement('div')
            imageContainer.classList.add('imgContainer')
            const imageElement = document.createElement('img')
            imageElement.setAttribute('src',"imageObject.url")
            imageContainer.append(imageElement)


        } catch (error){
            debugger;
            console.error(error)
        }
   } 
</script>
</html>